Enable SINGLENOZZLE
Set EXTRUDERS 2
Set HOTENDS 1
Enable FILAMENT2_RUNOUT_SENSOR
Pin FILRUNOUT2_PIN 14
Set FIL_RUNOUT2_INVERTING true
Set INVERT_E1_DIR true
Set FILAMENTCHANGE_INSERTION_SCRIPT '"M600 T0 I1 U5 V195 X195 Y195 R60"'
Set FILAMENT2CHANGE_INSERTION_SCRIPT '"M600 T1 I1 U5 V195 X195 Y195 R60"'
Set FILAMENTCHANGE_EXTRACTION_SCRIPT '"M600 T0 I-1 U5 V195 X195 Y195"'
Set FILAMENT2CHANGE_EXTRACTION_SCRIPT '"M600 T1 I-1 U5 V195 X195 Y195"'

#Set EXTRUDE_MINTEMP 50


# To support a FINAL_RETRACT longer than 400 (200+200)
Disable PREVENT_LENGTHY_EXTRUDE

# Flag to activate for emergency stop
Enable EMERGENCY_STOP
Enable EMERGENCY_STOP_Z_MOVE

# FLag to enable leveling debugging
#Enable DEBUG_LEVELING_FEATURE

Set FILAMENT_RUNOUT_SCRIPT '"M600 T0 I-1 U5 V195 X195 Y195"'
Set FILAMENT2_RUNOUT_SCRIPT '"M600 T1 I-1 U5 V195 X195 Y195"'

Enable AUTO_FILAMENT_CHANGE
Set FILAMENTCHANGE_FIRSTRETRACT -4.5
Set FILAMENTCHANGE_FINALRETRACT -950

Set FILAMENTCHANGE_AUTO_INSERTION_PURGE_LENGTH 30
Set FILAMENTCHANGE_AUTO_INSERTION_VERIFICATION_LENGTH_MM 0.5
Set FILAMENTCHANGE_AUTO_INSERTION_PURGE_FEEDRATE_FACTOR 0.05
Set FILAMENTCHANGE_AUTO_INSERTION_CONFIRMATION_LENGTH 40
Set FILAMENTCHANGE_AUTO_INSERTION_PREAMBLE_FEEDRATE_FACTOR 0.25
